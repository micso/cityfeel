{% extends "base.html" %}
{% load static %}

{% block title %}Mapa Emocji - CityFeel{% endblock %}

{# Nadpisujemy atrybuty glownego kontenera MAIN, aby usunac marginesy i wlaczyc flexbox #}
{% block main_attrs %}class="flex-grow-1 d-flex flex-column p-0 m-0"{% endblock %}

{% block content %}
<div id="map"
     style="height: 85vh; width: 100%;"
     data-api-url="/api/locations/">
</div>
{% endblock %}

{% block extra_js %}
<script>
  // Initialize Leaflet map (global variable for map.js)
  window.map = L.map('map').setView([54.3755425, 18.6088834], 12);

  // Add OpenStreetMap tiles
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    maxZoom: 19,
    minZoom: 3
  }).addTo(window.map);
</script>

<script src="{% static 'js/map.js' %}"></script>
{% endblock %}